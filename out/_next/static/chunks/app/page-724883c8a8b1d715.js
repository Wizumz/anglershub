(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4989:function(e,t,n){Promise.resolve().then(n.bind(n,7845))},7845:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return b}});var o=n(7437),a=n(2265),s=n(420);let i="noaa-marine-weather-preferences",l=()=>{try{let e=localStorage.getItem(i);if(e)return JSON.parse(e)}catch(e){console.error("Error reading user preferences:",e)}return{favoriteZones:[],recentSearches:[]}},r=e=>{try{localStorage.setItem(i,JSON.stringify(e))}catch(e){console.error("Error saving user preferences:",e)}},c=e=>{let t=l();t.favoriteZones.includes(e)||(t.favoriteZones.push(e),r(t))},d=e=>{let t=l();t.favoriteZones=t.favoriteZones.filter(t=>t!==e),r(t)},m=e=>l().favoriteZones.includes(e),u=e=>{let t=l();t.recentSearches=t.recentSearches.filter(t=>t!==e),t.recentSearches.unshift(e),t.recentSearches=t.recentSearches.slice(0,10),r(t)},h=()=>l().recentSearches,N=()=>l().favoriteZones;function x(e){var t,n,s,i,l,r;let{zones:x,selectedZone:f,onZoneChange:p}=e,[g,A]=(0,a.useState)(""),[_,y]=(0,a.useState)([]),[Z,v]=(0,a.useState)(!1),[b,z]=(0,a.useState)(-1),[j,w]=(0,a.useState)([]),[C,S]=(0,a.useState)([]),[M,I]=(0,a.useState)(!1),[D,E]=(0,a.useState)(!1),k=(0,a.useRef)(null),L=(0,a.useRef)(null);(0,a.useEffect)(()=>{w(N()),S(h())},[]),(0,a.useEffect)(()=>{if(!D&&f){let e=x.find(e=>e.zone_code===f);e&&A("".concat(e.zone_code," - ").concat(e.location_name))}},[f,x,D]),(0,a.useEffect)(()=>{if(""===g.trim())y(x);else{let e=x.filter(e=>e.zone_code.toLowerCase().includes(g.toLowerCase())||e.location_name.toLowerCase().includes(g.toLowerCase()));console.log("INPUT:",g),console.log("ZONES TOTAL:",x.length),console.log("FILTERED COUNT:",e.length),console.log("FIRST 5 FILTERED:",e.slice(0,5).map(e=>"".concat(e.zone_code," - ").concat(e.location_name))),y(e)}z(-1)},[g,x]);let F=e=>{A("".concat(e.zone_code," - ").concat(e.location_name)),v(!1),E(!1),p(e.zone_code),z(-1),u(e.zone_code),S(h())},T=e=>{m(e)?d(e):c(e),w(N())};(0,a.useEffect)(()=>{let e=e=>{L.current&&!L.current.contains(e.target)&&k.current&&!k.current.contains(e.target)&&v(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,a.useEffect)(()=>{if(b>=0&&L.current){let e=L.current.children[1+b];e&&e.scrollIntoView({block:"nearest"})}},[b]);let W={favorites:j.map(e=>x.find(t=>t.zone_code===e)).filter(Boolean),recent:C.map(e=>x.find(t=>t.zone_code===e)).filter(Boolean).filter(e=>!j.includes(e.zone_code))};return(0,o.jsxs)("div",{className:"space-y-3 relative",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsxs)("label",{htmlFor:"zone-search",className:"block text-sm font-medium text-terminal-accent",children:["Marine Zone (",x.length," available)"]}),f&&(0,o.jsx)("button",{onClick:()=>T(f),className:"text-2xl px-2 py-1 rounded transition-all hover:scale-110 ".concat(m(f)?"text-yellow-400 hover:text-yellow-500 hover:bg-yellow-400/10":"text-terminal-muted hover:text-yellow-400 hover:bg-yellow-400/5"),title:m(f)?"Remove from favorites":"Add to favorites",children:m(f)?"★":"☆"})]}),(W.favorites.length>0||W.recent.length>0)&&(0,o.jsxs)("div",{className:"space-y-2",children:[W.favorites.length>0&&(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:"text-xs text-terminal-accent font-semibold mb-1 flex items-center gap-1",children:["★ Favorites (",W.favorites.length,")"]}),(0,o.jsx)("div",{className:"flex flex-wrap gap-1",children:W.favorites.map(e=>(0,o.jsx)("button",{onClick:()=>F(e),className:"text-xs px-2 py-1 bg-terminal-accent text-terminal-bg rounded hover:bg-terminal-accent/80 transition-colors",children:e.zone_code},e.zone_code))})]}),W.recent.length>0&&(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:"text-xs text-terminal-muted font-semibold mb-1 flex items-center gap-1",children:["\uD83D\uDD52 Recent (",W.recent.length,")"]}),(0,o.jsx)("div",{className:"flex flex-wrap gap-1",children:W.recent.map(e=>(0,o.jsx)("button",{onClick:()=>F(e),className:"text-xs px-2 py-1 bg-terminal-fg/20 text-terminal-fg rounded hover:bg-terminal-fg/30 transition-colors",children:e.zone_code},e.zone_code))})]})]}),(0,o.jsxs)("div",{className:"relative",children:[(0,o.jsx)("input",{ref:k,id:"zone-search",type:"text",value:g,onChange:e=>{A(e.target.value),E(!0),v(!0)},onKeyDown:e=>{if(Z)switch(e.key){case"ArrowDown":e.preventDefault(),z(e=>e<_.length-1?e+1:e);break;case"ArrowUp":e.preventDefault(),z(e=>e>0?e-1:e);break;case"Enter":e.preventDefault(),b>=0&&b<_.length&&F(_[b]);break;case"Escape":v(!1),z(-1)}},onFocus:()=>{v(!0),g.includes(" - ")&&(A(""),E(!0))},placeholder:"Search zones... (e.g., ANZ230, Boston Harbor, Cape Cod)",className:"w-full p-3 bg-terminal-bg border border-terminal-border rounded focus:outline-none focus:ring-2 focus:ring-terminal-accent text-terminal-fg placeholder-terminal-muted font-mono",autoComplete:"off"}),(0,o.jsx)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:g?(0,o.jsx)("button",{onClick:()=>{A(""),E(!0),v(!0),z(-1),k.current&&k.current.focus()},className:"text-terminal-muted hover:text-terminal-accent transition-colors p-1",title:"Clear search",children:"✕"}):(0,o.jsx)("div",{className:"text-terminal-muted",children:"\uD83D\uDD0D"})})]}),Z&&(0,o.jsx)("div",{ref:L,className:"absolute z-50 w-full mt-1 bg-terminal-bg border border-terminal-border rounded shadow-lg max-h-80 overflow-y-auto",children:_.length>0?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"px-3 py-2 text-xs text-terminal-muted border-b border-terminal-fg/20 bg-terminal-bg-alt",children:["\uD83D\uDCCD ",_.length," zone",1!==_.length?"s":""," found • Use ↑↓ arrows to navigate, Enter to select"]}),_.map((e,t)=>(0,o.jsx)("div",{className:"px-3 py-3 border-b border-terminal-fg/10 last:border-b-0 transition-colors ".concat(t===b?"bg-terminal-accent text-terminal-bg":"hover:bg-terminal-fg/10 text-terminal-fg"),children:(0,o.jsxs)("div",{className:"flex justify-between items-start",children:[(0,o.jsxs)("div",{className:"flex-1 min-w-0 cursor-pointer",onClick:()=>F(e),children:[(0,o.jsxs)("div",{className:"font-medium font-mono flex items-center gap-2",children:[(0,o.jsx)("span",{className:t===b?"text-terminal-bg":"text-terminal-success",children:e.zone_code}),j.includes(e.zone_code)&&(0,o.jsx)("span",{className:"text-lg ".concat(t===b?"text-yellow-200":"text-yellow-400"),children:"★"}),C.includes(e.zone_code)&&!j.includes(e.zone_code)&&(0,o.jsx)("span",{className:"text-xs ".concat(t===b?"text-terminal-bg/70":"text-terminal-muted"),children:"\uD83D\uDD52"})]}),(0,o.jsx)("div",{className:"text-sm truncate ".concat(t===b?"text-terminal-bg/80":"text-terminal-muted"),children:e.location_name})]}),(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsx)("div",{className:"text-xs ".concat(t===b?"text-terminal-bg/70":"text-terminal-muted"),children:e.synopsis_zone}),(0,o.jsx)("button",{onClick:t=>{t.stopPropagation(),T(e.zone_code)},className:"text-xl px-2 py-1 rounded transition-all hover:scale-110 ".concat(j.includes(e.zone_code)?t===b?"text-yellow-200 hover:text-yellow-100 hover:bg-yellow-200/10":"text-yellow-400 hover:text-yellow-500 hover:bg-yellow-400/10":t===b?"text-terminal-bg/50 hover:text-yellow-200 hover:bg-yellow-200/10":"text-terminal-muted hover:text-yellow-400 hover:bg-yellow-400/5"),title:j.includes(e.zone_code)?"Remove from favorites":"Add to favorites",children:j.includes(e.zone_code)?"★":"☆"})]})]})},e.zone_code))]}):(0,o.jsxs)("div",{className:"px-3 py-6 text-center text-terminal-muted",children:[(0,o.jsx)("div",{className:"text-lg mb-2",children:"\uD83D\uDD0D"}),(0,o.jsx)("div",{children:"No zones found matching"}),(0,o.jsxs)("div",{className:"font-mono text-terminal-accent",children:['"',g,'"']}),(0,o.jsx)("div",{className:"text-xs mt-2",children:"Try searching by zone code (ANZ230) or location (Boston)"})]})}),f&&(0,o.jsxs)("div",{className:"text-xs text-terminal-muted border-t border-terminal-fg/20 pt-2",children:[(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{className:"text-terminal-accent font-semibold",children:"Zone:"})," ",f]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{className:"text-terminal-accent font-semibold",children:"Synopsis:"})," ",null===(t=x.find(e=>e.zone_code===f))||void 0===t?void 0:t.synopsis_zone]})]}),(null===(n=x.find(e=>e.zone_code===f))||void 0===n?void 0:n.latitude)&&(null===(s=x.find(e=>e.zone_code===f))||void 0===s?void 0:s.longitude)&&(0,o.jsxs)("div",{className:"mt-1",children:[(0,o.jsx)("span",{className:"text-terminal-accent font-semibold",children:"Coordinates:"})," "," ",null===(l=x.find(e=>e.zone_code===f))||void 0===l?void 0:null===(i=l.latitude)||void 0===i?void 0:i.toFixed(3),"\xb0N, "," ",Math.abs((null===(r=x.find(e=>e.zone_code===f))||void 0===r?void 0:r.longitude)||0).toFixed(3),"\xb0W"]})]})]})}var f=n(936),p=n(9121);let g={ANZ230:"8418150",ANZ231:"8413320",ANZ232:"8410140",ANZ233:"8411060",ANZ234:"8412369",ANZ235:"8413320",ANZ236:"8416092",ANZ250:"8418150",ANZ251:"8413320",ANZ252:"8410140",ANZ330:"8423898",ANZ331:"8443970",ANZ332:"8447930",ANZ333:"8443970",ANZ334:"8447930",ANZ335:"8443970",ANZ336:"8447930",ANZ430:"8447930",ANZ431:"8447387",ANZ432:"8447435",ANZ433:"8447930",ANZ434:"8449130",ANZ435:"8447387",ANZ436:"8447930",ANZ437:"8454000",ANZ438:"8452660",ANZ439:"8452660",ANZ530:"8461490",ANZ531:"8510560",ANZ532:"8516945",ANZ533:"8518750",ANZ534:"8516945",ANZ535:"8518750",ANZ536:"8516945",ANZ537:"8518750",ANZ538:"8516945",ANZ630:"8531680",ANZ631:"8534720",ANZ632:"8537121",ANZ633:"8534720",ANZ634:"8537121",ANZ635:"8531680",ANZ636:"8534720",ANZ637:"8537121",ANZ730:"8570283",ANZ731:"8571892",ANZ732:"8638863",ANZ733:"8571892",ANZ734:"8638863",ANZ735:"8570283",ANZ736:"8571892",ANZ737:"8638863",ANZ350:"8652587",ANZ352:"8654467",ANZ354:"8656483",ANZ830:"8652587",ANZ831:"8654467",ANZ832:"8656483",ANZ833:"8658163",ANZ834:"8661070",ANZ835:"8652587",ANZ836:"8654467",ANZ837:"8656483",ANZ838:"8658163",ANZ839:"8661070",ANZ930:"8665530",ANZ931:"8670870",ANZ932:"8677344",ANZ933:"8665530",ANZ934:"8670870",ANZ935:"8677344",ANZ936:"8665530",ANZ937:"8670870",ANZ938:"8677344",ANZ1030:"8677344",ANZ1031:"8720218",ANZ1032:"8720587",ANZ1033:"8721604",ANZ1034:"8722670",ANZ1035:"8723214",ANZ1036:"8723970",ANZ1037:"8724580"},A=async e=>{let t=g[e];if(!t)return console.warn("No tide station found for zone ".concat(e)),null;try{let e=new Date,o=new Date(e);o.setDate(e.getDate()+7);let a=e.toISOString().split("T")[0].replace(/-/g,""),s=o.toISOString().split("T")[0].replace(/-/g,""),i="https://api.tidesandcurrents.noaa.gov/api/prod/datagetter?product=predictions&application=NOS.COOPS.TAC.WL&"+"begin_date=".concat(a,"&end_date=").concat(s,"&")+"datum=MLLW&station=".concat(t,"&time_zone=lst_ldt&units=english&")+"interval=hilo&format=json",l=await fetch(i);if(!l.ok)throw Error("NOAA Tides API error: ".concat(l.status));let r=await l.json();if(!r.predictions||0===r.predictions.length)throw Error("No tide predictions available");let c=r.predictions.map(e=>({time:e.t,value:parseFloat(e.v),type:"H"===e.type?"H":"L"})),d="Station ".concat(t);try{let e=await fetch("https://api.tidesandcurrents.noaa.gov/mdapi/prod/webapi/stations/".concat(t,".json"));if(e.ok){var n;let t=await e.json();d=(null===(n=t.stations[0])||void 0===n?void 0:n.name)||d}}catch(e){console.warn("Could not fetch station metadata:",e)}return{stationId:t,stationName:d,predictions:c,datum:"MLLW",units:"feet",timeZone:"Local Standard Time / Local Daylight Time",disclaimer:"Tide predictions from NOAA Center for Operational Oceanographic Products and Services"}}catch(e){return console.error("Error fetching tide data:",e),null}};function _(e){let{forecasts:t,selectedZone:n,latitude:i,longitude:l,zoneCode:r}=e,[c,d]=(0,a.useState)(null),[m,u]=(0,a.useState)(null),[h,N]=(0,a.useState)(!1);(0,a.useEffect)(()=>{(async()=>{if(i&&l){N(!0);try{let e="https://api.open-meteo.com/v1/forecast?latitude=".concat(i,"&longitude=").concat(l,"&current=temperature_2m,relative_humidity_2m,pressure_msl,weather_code,is_day&daily=weather_code,temperature_2m_max,temperature_2m_min,sunrise,sunset&hourly=temperature_2m,relative_humidity_2m,pressure_msl,weather_code,is_day&timezone=America/New_York&forecast_days=7&temperature_unit=fahrenheit"),t=await fetch(e);if(t.ok){let e=await t.json();d(e)}}catch(e){console.error("Error fetching weather data:",e)}finally{N(!1)}}})()},[i,l]),(0,a.useEffect)(()=>{r&&A(r).then(e=>{u(e)}).catch(e=>{console.error("Tide data error:",e)})},[r]);let x=e=>new Date(e).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0,timeZone:"America/New_York"}),g=e=>{try{let t=(0,f.D)(e);return(0,s.WU)(t,"h:mm a")}catch(t){return e}},_=e=>"H"===e?"\uD83C\uDF0A":"\uD83C\uDFD6️",y=e=>"H"===e?"High":"Low",Z=(e,t)=>{let n=(0,s.WU)(e,"yyyy-MM-dd");return t.filter(e=>{try{return(0,s.WU)((0,f.D)(e.time),"yyyy-MM-dd")===n}catch(e){return!1}})},v=e=>({0:"Clear sky",1:"Mainly clear",2:"Partly cloudy",3:"Overcast",45:"Fog",48:"Depositing rime fog",51:"Light drizzle",53:"Moderate drizzle",55:"Dense drizzle",61:"Slight rain",63:"Moderate rain",65:"Heavy rain",71:"Slight snow fall",73:"Moderate snow fall",75:"Heavy snow fall",80:"Slight rain showers",81:"Moderate rain showers",82:"Violent rain showers",95:"Thunderstorm",96:"Thunderstorm with slight hail",99:"Thunderstorm with heavy hail"})[e]||"Unknown",b=(e,t)=>0===e?t?"☀️":"\uD83C\uDF19":e<=3?t?"⛅":"\uD83C\uDF19":45===e||48===e?"\uD83C\uDF2B️":e>=51&&e<=57?"\uD83C\uDF26️":e>=61&&e<=67?"\uD83C\uDF27️":e>=71&&e<=77?"❄️":e>=80&&e<=82?"\uD83C\uDF26️":e>=95&&e<=99?"⛈️":t?"\uD83C\uDF24️":"\uD83C\uDF19",z=(e,t)=>{let n=e.toLowerCase(),o=new Date(t);return n.includes("tonight")||(n.includes("monday")||n.includes("mon")?o=j(t,1):n.includes("tuesday")||n.includes("tue")?o=j(t,2):n.includes("wednesday")||n.includes("wed")?o=j(t,3):n.includes("thursday")||n.includes("thu")?o=j(t,4):n.includes("friday")||n.includes("fri")?o=j(t,5):n.includes("saturday")||n.includes("sat")?o=j(t,6):n.includes("sunday")||n.includes("sun")?o=j(t,0):n.includes("tomorrow")&&(o=(0,p.E)(t,1))),o.toISOString().split("T")[0]},j=(e,t)=>{let n=t-e.getDay();return n<=0&&(n+=7),(0,p.E)(e,n)},w=e=>{if(!c)return null;let t=c.daily.time.findIndex(t=>t===e);return -1===t?null:{dailyIndex:t,morningIndex:c.hourly.time.findIndex(t=>9===new Date(t).getHours()&&t.startsWith(e)),afternoonIndex:c.hourly.time.findIndex(t=>15===new Date(t).getHours()&&t.startsWith(e)),isToday:e===new Date().toISOString().split("T")[0]}};return(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsxs)("div",{className:"border-b border-terminal-border pb-2 mb-4",children:[(0,o.jsxs)("div",{className:"text-terminal-accent",children:["Marine Zone: ",(0,o.jsx)("span",{className:"text-terminal-text",children:n})]}),(0,o.jsxs)("div",{className:"text-terminal-muted text-sm",children:["Updated: ",(0,s.WU)(new Date,"yyyy-MM-dd HH:mm:ss")," EST"]})]}),(0,o.jsx)("div",{className:"space-y-4",children:t.map((e,t)=>{let n=new Date,a=z(e.period,n),i=w(a);return(0,o.jsxs)("div",{className:"bg-terminal-bg-alt p-4 rounded-lg border border-terminal-fg/20",children:[(0,o.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,o.jsxs)("h3",{className:"text-terminal-accent font-semibold text-lg",children:["▶ ",e.period]}),(0,o.jsx)("div",{className:"text-terminal-muted text-sm",children:(0,s.WU)((0,f.D)(a+"T00:00:00"),"MMM d, yyyy")})]}),(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsx)("h4",{className:"text-terminal-accent font-medium mb-2 border-b border-terminal-fg/20 pb-1",children:"\uD83C\uDF0A Marine Conditions"}),(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 text-sm",children:[e.winds&&(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{className:"text-terminal-accent font-semibold",children:"Winds: "}),(0,o.jsx)("span",{children:e.winds})]}),e.seas&&(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{className:"text-terminal-accent font-semibold",children:"Seas: "}),(0,o.jsx)("span",{children:e.seas})]}),e.waveDetail&&(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{className:"text-terminal-accent font-semibold",children:"Wave Detail: "}),(0,o.jsx)("span",{children:e.waveDetail})]}),e.visibility&&(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{className:"text-terminal-accent font-semibold",children:"Visibility: "}),(0,o.jsx)("span",{children:e.visibility})]}),e.thunderstorms&&(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{className:"text-terminal-accent font-semibold",children:"Thunderstorms: "}),(0,o.jsxs)("span",{className:"text-red-400 font-semibold inline-flex items-center gap-1",children:["⛈️ ",e.thunderstorms]})]})]})]}),i&&c&&(0,o.jsxs)("div",{children:[(0,o.jsx)("h4",{className:"text-terminal-accent font-medium mb-3 border-b border-terminal-fg/20 pb-1",children:"\uD83C\uDF21️ Detailed Weather Forecast"}),(0,o.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[(0,o.jsxs)("div",{className:"space-y-3",children:[(0,o.jsx)("h5",{className:"text-terminal-accent text-sm font-medium",children:"Conditions"}),(0,o.jsxs)("div",{className:"space-y-2 text-sm",children:[i.morningIndex>=0&&(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsx)("span",{className:"text-terminal-accent font-semibold w-16",children:"Morning:"}),(0,o.jsx)("span",{className:"text-lg",children:b(c.hourly.weather_code[i.morningIndex],1===c.hourly.is_day[i.morningIndex])}),(0,o.jsx)("span",{className:"text-xs",children:v(c.hourly.weather_code[i.morningIndex])})]}),i.afternoonIndex>=0&&(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsx)("span",{className:"text-terminal-accent font-semibold w-16",children:"Afternoon:"}),(0,o.jsx)("span",{className:"text-lg",children:b(c.hourly.weather_code[i.afternoonIndex],1===c.hourly.is_day[i.afternoonIndex])}),(0,o.jsx)("span",{className:"text-xs",children:v(c.hourly.weather_code[i.afternoonIndex])})]}),(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsx)("span",{className:"text-terminal-accent font-semibold w-16",children:"Overall:"}),(0,o.jsx)("span",{className:"text-lg",children:b(c.daily.weather_code[i.dailyIndex],!0)}),(0,o.jsx)("span",{className:"text-xs",children:v(c.daily.weather_code[i.dailyIndex])})]})]})]}),(0,o.jsxs)("div",{className:"space-y-3",children:[(0,o.jsx)("h5",{className:"text-terminal-accent text-sm font-medium",children:"Temperature"}),(0,o.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,o.jsxs)("div",{className:"flex justify-between",children:[(0,o.jsx)("span",{className:"text-terminal-accent font-semibold",children:"High:"}),(0,o.jsxs)("span",{className:"text-red-400 font-semibold",children:[Math.round(c.daily.temperature_2m_max[i.dailyIndex]),"\xb0F"]})]}),(0,o.jsxs)("div",{className:"flex justify-between",children:[(0,o.jsx)("span",{className:"text-terminal-accent font-semibold",children:"Low:"}),(0,o.jsxs)("span",{className:"text-blue-400 font-semibold",children:[Math.round(c.daily.temperature_2m_min[i.dailyIndex]),"\xb0F"]})]}),i.isToday&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"flex justify-between",children:[(0,o.jsx)("span",{className:"text-terminal-accent font-semibold",children:"Humidity:"}),(0,o.jsxs)("span",{children:[c.current.relative_humidity_2m,"%"]})]}),(0,o.jsxs)("div",{className:"flex justify-between",children:[(0,o.jsx)("span",{className:"text-terminal-accent font-semibold",children:"Pressure:"}),(0,o.jsxs)("span",{children:[Math.round(c.current.pressure_msl)," hPa"]})]})]})]})]}),(0,o.jsxs)("div",{className:"space-y-3",children:[(0,o.jsx)("h5",{className:"text-terminal-accent text-sm font-medium",children:"Sun Times (EST)"}),(0,o.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,o.jsxs)("div",{className:"flex justify-between",children:[(0,o.jsx)("span",{className:"text-terminal-accent font-semibold",children:"Sunrise:"}),(0,o.jsx)("span",{className:"text-yellow-400",children:x(c.daily.sunrise[i.dailyIndex])})]}),(0,o.jsxs)("div",{className:"flex justify-between",children:[(0,o.jsx)("span",{className:"text-terminal-accent font-semibold",children:"Sunset:"}),(0,o.jsx)("span",{className:"text-orange-400",children:x(c.daily.sunset[i.dailyIndex])})]})]})]}),m?(()=>{let e=Z((0,f.D)(a+"T00:00:00"),m.predictions);return(0,o.jsxs)("div",{className:"space-y-3",children:[(0,o.jsx)("h5",{className:"text-terminal-accent text-sm font-medium",children:"Tides (EST)"}),e.length>0?(0,o.jsx)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:e.map((e,t)=>(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsxs)("div",{className:"flex items-center gap-1",children:[(0,o.jsx)("span",{className:"text-xs",children:_(e.type)}),(0,o.jsxs)("span",{className:"text-terminal-accent font-semibold text-xs",children:[y(e.type),":"]})]}),(0,o.jsxs)("div",{className:"text-right",children:[(0,o.jsx)("div",{className:"text-xs font-medium text-terminal-success",children:g(e.time)}),(0,o.jsxs)("div",{className:"text-xs text-terminal-muted",children:[e.value.toFixed(1),"ft"]})]})]},t))}):(0,o.jsx)("div",{className:"text-xs text-terminal-muted",children:"No tide data available for this day"})]})})():(0,o.jsxs)("div",{className:"space-y-3",children:[(0,o.jsx)("h5",{className:"text-terminal-accent text-sm font-medium",children:"Tides (EST)"}),(0,o.jsx)("div",{className:"text-xs text-terminal-muted",children:"Loading tide data..."})]})]})]}),h&&(0,o.jsx)("div",{className:"mt-4 text-terminal-accent text-sm",children:(0,o.jsx)("span",{className:"animate-pulse",children:"Loading detailed weather..."})})]},"".concat(e.period,"-").concat(t))})}),(0,o.jsxs)("div",{className:"mt-6 pt-4 border-t border-terminal-fg/20",children:[(0,o.jsx)("h4",{className:"text-terminal-accent font-medium mb-3",children:"Marine Forecast Data Source"}),(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-xs text-terminal-muted",children:[(0,o.jsxs)("div",{className:"space-y-1",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{className:"text-terminal-accent font-semibold",children:"Source:"})," NOAA National Weather Service"]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{className:"text-terminal-accent font-semibold",children:"Zone:"})," ",n]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{className:"text-terminal-accent font-semibold",children:"Official URL:"})," ",(0,o.jsx)("a",{href:"https://forecast.weather.gov/shmrn.php?mz=".concat(n.toLowerCase()),target:"_blank",rel:"noopener noreferrer",className:"text-terminal-success hover:underline",children:"NOAA Marine Forecast"})]})]}),(0,o.jsxs)("div",{className:"space-y-1",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{className:"text-terminal-accent font-semibold",children:"Update Frequency:"})," Multiple times daily"]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{className:"text-terminal-accent font-semibold",children:"Coverage:"})," US Coastal Waters"]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{className:"text-terminal-accent font-semibold",children:"Authority:"})," National Weather Service"]})]})]}),(0,o.jsxs)("div",{className:"mt-4 pt-3 border-t border-terminal-fg/20",children:[(0,o.jsx)("h5",{className:"text-terminal-accent font-medium mb-2",children:"Weather Forecast Data Source"}),(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-xs text-terminal-muted",children:[(0,o.jsxs)("div",{className:"space-y-1",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{className:"text-terminal-accent font-semibold",children:"Source:"})," Open-Meteo Weather API"]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{className:"text-terminal-accent font-semibold",children:"Location:"})," ",i.toFixed(3),"\xb0N, ",Math.abs(l).toFixed(3),"\xb0W"]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{className:"text-terminal-accent font-semibold",children:"Official URL:"})," ",(0,o.jsx)("a",{href:"https://open-meteo.com/",target:"_blank",rel:"noopener noreferrer",className:"text-terminal-success hover:underline",children:"Open-Meteo.com"})]})]}),(0,o.jsxs)("div",{className:"space-y-1",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{className:"text-terminal-accent font-semibold",children:"Models:"})," ECMWF, GFS, ICON"]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{className:"text-terminal-accent font-semibold",children:"Resolution:"})," 0.25\xb0 (~25km)"]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{className:"text-terminal-accent font-semibold",children:"Timezone:"})," Eastern Standard Time"]})]})]})]}),m&&(0,o.jsxs)("div",{className:"mt-4 pt-3 border-t border-terminal-fg/20",children:[(0,o.jsx)("h5",{className:"text-terminal-accent font-medium mb-2",children:"Tide Forecast Data Source"}),(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-xs text-terminal-muted",children:[(0,o.jsxs)("div",{className:"space-y-1",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{className:"text-terminal-accent font-semibold",children:"Source:"})," NOAA Tides & Currents"]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{className:"text-terminal-accent font-semibold",children:"Station:"})," ",m.stationName]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{className:"text-terminal-accent font-semibold",children:"Official URL:"})," ",(0,o.jsxs)("a",{href:"https://tidesandcurrents.noaa.gov/stationhome.html?id=".concat(m.stationId),target:"_blank",rel:"noopener noreferrer",className:"text-terminal-success hover:underline",children:["NOAA Station ",m.stationId]})]})]}),(0,o.jsxs)("div",{className:"space-y-1",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{className:"text-terminal-accent font-semibold",children:"Datum:"})," ",m.datum," (Mean Lower Low Water)"]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{className:"text-terminal-accent font-semibold",children:"Timezone:"})," ",m.timeZone]})]})]})]}),(0,o.jsxs)("div",{className:"mt-3 text-xs text-terminal-muted",children:[(0,o.jsx)("span",{className:"text-terminal-warning",children:"⚠️ Official Source:"})," Marine forecast data is sourced directly from NOAA's National Weather Service. Weather forecast data is provided by Open-Meteo using multiple meteorological models.",m&&"Tide predictions are provided by NOAA's Center for Operational Oceanographic Products and Services. ","For the most current conditions and any watches/warnings, always check the official NOAA marine forecast link above."]})]})]})}function y(e){let{children:t}=e,[n,s]=(0,a.useState)(!1),[i,l]=(0,a.useState)(null);(0,a.useEffect)(()=>{"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").then(e=>{console.log("Service Worker registered successfully:",e)}).catch(e=>{console.log("Service Worker registration failed:",e)});let e=e=>{e.preventDefault(),l(e),s(!0)};return window.addEventListener("beforeinstallprompt",e),window.addEventListener("appinstalled",()=>{s(!1),l(null),console.log("PWA was installed")}),()=>{window.removeEventListener("beforeinstallprompt",e)}},[]);let r=async()=>{i&&(console.log("Install prompt result:",await i.prompt()),l(null),s(!1))};return(0,o.jsxs)(o.Fragment,{children:[t,n&&(0,o.jsx)("div",{className:"fixed bottom-4 left-4 right-4 md:left-auto md:right-4 md:w-80 bg-terminal-bg-alt border border-terminal-border rounded-lg p-4 shadow-lg z-50",children:(0,o.jsxs)("div",{className:"flex items-start gap-3",children:[(0,o.jsx)("div",{className:"text-2xl",children:"\uD83D\uDCF1"}),(0,o.jsxs)("div",{className:"flex-1",children:[(0,o.jsx)("h3",{className:"text-terminal-accent font-semibold text-sm mb-1",children:"Install Marine Weather App"}),(0,o.jsx)("p",{className:"text-terminal-muted text-xs mb-3",children:"Add to home screen for quick access and offline support"}),(0,o.jsxs)("div",{className:"flex gap-2",children:[(0,o.jsx)("button",{onClick:r,className:"text-xs px-3 py-1.5 bg-terminal-accent text-terminal-bg rounded hover:bg-terminal-accent/80 transition-colors font-semibold",children:"Install"}),(0,o.jsx)("button",{onClick:()=>s(!1),className:"text-xs px-3 py-1.5 border border-terminal-fg/20 text-terminal-fg rounded hover:bg-terminal-fg/10 transition-colors",children:"Later"})]})]})]})})]})}var Z=n(257);let v=[{zone_code:"ANZ150",location_name:"Coastal Waters from Stonington ME to Port Clyde ME out 25 nm",synopsis_zone:"ANZ100",latitude:44.05,longitude:-69},{zone_code:"ANZ151",location_name:"Penobscot Bay",synopsis_zone:"ANZ100",latitude:44.3,longitude:-68.85},{zone_code:"ANZ152",location_name:"Coastal Waters from Port Clyde ME to Cape Elizabeth ME out 25 nm",synopsis_zone:"ANZ100",latitude:43.75,longitude:-69.6},{zone_code:"ANZ153",location_name:"Casco Bay",synopsis_zone:"ANZ100",latitude:43.75,longitude:-70.1},{zone_code:"ANZ154",location_name:"Coastal Waters from Cape Elizabeth ME to Merrimack River MA out 25 nm",synopsis_zone:"ANZ100",latitude:43.2,longitude:-70.4},{zone_code:"ANZ230",location_name:"Boston Harbor",synopsis_zone:"ANZ200",latitude:42.354,longitude:-71.065},{zone_code:"ANZ231",location_name:"Cape Cod Bay",synopsis_zone:"ANZ200",latitude:41.92,longitude:-70.28},{zone_code:"ANZ232",location_name:"Provincetown MA to Chatham MA to Nantucket Sound out 20 nm",synopsis_zone:"ANZ200",latitude:41.8,longitude:-69.9},{zone_code:"ANZ233",location_name:"Nantucket Sound",synopsis_zone:"ANZ200",latitude:41.34,longitude:-70.45},{zone_code:"ANZ234",location_name:"Vineyard Sound",synopsis_zone:"ANZ200",latitude:41.4,longitude:-70.8},{zone_code:"ANZ235",location_name:"Rhode Island Sound",synopsis_zone:"ANZ200",latitude:41.25,longitude:-71.35},{zone_code:"ANZ236",location_name:"Narragansett Bay",synopsis_zone:"ANZ200",latitude:41.58,longitude:-71.38},{zone_code:"ANZ237",location_name:"Block Island Sound",synopsis_zone:"ANZ200",latitude:41.2,longitude:-71.85},{zone_code:"ANZ250",location_name:"Coastal waters east of Ipswich Bay and the Stellwagen Bank National Marine Sanctuary",synopsis_zone:"ANZ200",latitude:42.65,longitude:-70.2},{zone_code:"ANZ251",location_name:"Massachusetts Bay and Ipswich Bay",synopsis_zone:"ANZ200",latitude:42.45,longitude:-70.65},{zone_code:"ANZ254",location_name:"Coastal waters from Provincetown MA to Chatham MA to Nantucket MA out 20 nm",synopsis_zone:"ANZ200",latitude:41.7,longitude:-69.8},{zone_code:"ANZ255",location_name:"Coastal Waters extending out to 25 nm South of Marthas Vineyard and Nantucket",synopsis_zone:"ANZ200",latitude:41.05,longitude:-70.2},{zone_code:"ANZ256",location_name:"Coastal waters from Montauk NY to Marthas Vineyard out 20 nm",synopsis_zone:"ANZ200",latitude:41.2,longitude:-71},{zone_code:"ANZ270",location_name:"Waters from Provincetown MA to Chatham MA to Nantucket MA 20-60 nm",synopsis_zone:"ANZ815",latitude:41.5,longitude:-69.2},{zone_code:"ANZ271",location_name:"Waters from Montauk NY to Marthas Vineyard 20-60 nm",synopsis_zone:"ANZ815",latitude:40.9,longitude:-70.5},{zone_code:"ANZ330",location_name:"Long Island Sound East of New Haven CT/Port Jefferson NY",synopsis_zone:"ANZ300",latitude:41.285,longitude:-72.2},{zone_code:"ANZ331",location_name:"Long Island Sound East of New Haven CT/Port Jefferson NY to the Mouth of the Connecticut River",synopsis_zone:"ANZ300",latitude:41.28,longitude:-72.35},{zone_code:"ANZ332",location_name:"Long Island Sound East of the Mouth of the Connecticut River",synopsis_zone:"ANZ300",latitude:41.32,longitude:-72.05},{zone_code:"ANZ335",location_name:"Long Island Sound West of New Haven CT/Port Jefferson NY",synopsis_zone:"ANZ300",latitude:40.95,longitude:-73.44},{zone_code:"ANZ338",location_name:"New York Harbor",synopsis_zone:"ANZ300",latitude:40.67,longitude:-74.04},{zone_code:"ANZ340",location_name:"Peconic and Gardiners Bays",synopsis_zone:"ANZ300",latitude:41,longitude:-72.32},{zone_code:"ANZ345",location_name:"South Shore Bays from Jones Inlet through Shinnecock Bay",synopsis_zone:"ANZ300",latitude:40.63,longitude:-73.2},{zone_code:"ANZ350",location_name:"Moriches Inlet NY to Montauk Point NY out 20 nm",synopsis_zone:"ANZ300",latitude:40.85,longitude:-72.3},{zone_code:"ANZ353",location_name:"Fire Island Inlet NY to Moriches Inlet NY out 20 nm",synopsis_zone:"ANZ300",latitude:40.7,longitude:-72.95},{zone_code:"ANZ355",location_name:"Sandy Hook NJ to Fire Island Inlet NY out 20 nm",synopsis_zone:"ANZ300",latitude:40.4,longitude:-73.7},{zone_code:"ANZ370",location_name:"Waters from Moriches Inlet NY to Montauk Point NY 20-60 nm",synopsis_zone:"ANZ815",latitude:40.6,longitude:-71.8},{zone_code:"ANZ373",location_name:"Waters from Fire Island Inlet NY to Moriches Inlet NY 20-60 nm",synopsis_zone:"ANZ815",latitude:40.45,longitude:-72.4},{zone_code:"ANZ375",location_name:"Waters from Sandy Hook NJ to Fire Island Inlet NY 20-60 nm",synopsis_zone:"ANZ815",latitude:40.15,longitude:-73.2},{zone_code:"ANZ430",location_name:"Delaware Bay waters north of East Point NJ to Slaughter Beach DE",synopsis_zone:"ANZ400",latitude:39.2,longitude:-75.18},{zone_code:"ANZ431",location_name:"Delaware Bay waters south of East Point NJ to Slaughter Beach DE",synopsis_zone:"ANZ400",latitude:38.95,longitude:-75.18},{zone_code:"ANZ450",location_name:"Coastal waters from Sandy Hook to Manasquan Inlet NJ out 20 nm",synopsis_zone:"ANZ400",latitude:40.25,longitude:-73.85},{zone_code:"ANZ451",location_name:"Coastal waters from Manasquan Inlet to Little Egg Inlet NJ out 20 nm",synopsis_zone:"ANZ400",latitude:39.8,longitude:-74},{zone_code:"ANZ452",location_name:"Coastal waters from Little Egg Inlet to Great Egg Inlet NJ out 20 nm",synopsis_zone:"ANZ400",latitude:39.45,longitude:-74.3},{zone_code:"ANZ453",location_name:"Coastal waters from Great Egg Inlet to Cape May NJ out 20 nm",synopsis_zone:"ANZ400",latitude:39.1,longitude:-74.6},{zone_code:"ANZ454",location_name:"Coastal waters from Cape May NJ to Cape Henlopen DE out 20 nm",synopsis_zone:"ANZ400",latitude:38.9,longitude:-74.95},{zone_code:"ANZ455",location_name:"Coastal waters from Cape Henlopen to Fenwick Island DE out 20 nm",synopsis_zone:"ANZ400",latitude:38.65,longitude:-75},{zone_code:"ANZ470",location_name:"Waters from Sandy Hook to Manasquan Inlet NJ 20-60 nm",synopsis_zone:"ANZ820",latitude:40,longitude:-73.2},{zone_code:"ANZ471",location_name:"Waters from Manasquan Inlet to Little Egg Inlet NJ 20-60 nm",synopsis_zone:"ANZ820",latitude:39.55,longitude:-73.35},{zone_code:"ANZ472",location_name:"Waters from Little Egg Inlet to Great Egg Inlet NJ 20-60 nm",synopsis_zone:"ANZ820",latitude:39.2,longitude:-73.65},{zone_code:"ANZ473",location_name:"Waters from Great Egg Inlet to Cape May NJ 20-60 nm",synopsis_zone:"ANZ820",latitude:38.85,longitude:-74},{zone_code:"ANZ475",location_name:"Waters from Cape May NJ to Cape Henlopen DE 20-60 nm",synopsis_zone:"ANZ820",latitude:38.65,longitude:-74.3},{zone_code:"ANZ630",location_name:"Chesapeake Bay from Smith Point to Windmill Point VA",synopsis_zone:"ANZ600",latitude:37.87,longitude:-76.23},{zone_code:"ANZ631",location_name:"Chesapeake Bay from Windmill Point to New Point Comfort VA",synopsis_zone:"ANZ600",latitude:37.55,longitude:-76.3},{zone_code:"ANZ632",location_name:"Chesapeake Bay from New Point Comfort to Little Creek VA",synopsis_zone:"ANZ600",latitude:37.05,longitude:-76.3},{zone_code:"ANZ633",location_name:"Currituck Sound",synopsis_zone:"ANZ600",latitude:36.35,longitude:-75.95},{zone_code:"ANZ634",location_name:"Chesapeake Bay from Little Creek VA to Cape Henry VA",synopsis_zone:"ANZ600",latitude:36.85,longitude:-76.1},{zone_code:"ANZ650",location_name:"Coastal waters from Fenwick Island DE to Chincoteague VA out 20 nm",synopsis_zone:"ANZ600",latitude:38.2,longitude:-74.8},{zone_code:"ANZ652",location_name:"Coastal waters from Chincoteague to Parramore Island VA out 20 nm",synopsis_zone:"ANZ600",latitude:37.7,longitude:-75.2},{zone_code:"ANZ654",location_name:"Coastal waters from Parramore Island to Cape Charles Light VA out 20 nm",synopsis_zone:"ANZ600",latitude:37.3,longitude:-75.65},{zone_code:"ANZ656",location_name:"Coastal waters from Cape Charles Light to VA/NC border out 20 nm",synopsis_zone:"ANZ600",latitude:36.85,longitude:-75.8},{zone_code:"ANZ658",location_name:"Coastal waters from NC/VA border to Currituck Beach Light NC out 20 nm",synopsis_zone:"ANZ600",latitude:36.35,longitude:-75.65},{zone_code:"ANZ670",location_name:"Waters from Fenwick Island DE to Chincoteague VA 20-60 nm",synopsis_zone:"ANZ820",latitude:37.95,longitude:-74.1},{zone_code:"ANZ671",location_name:"Waters from Chincoteague to Parramore Island VA 20-60 nm",synopsis_zone:"ANZ820",latitude:37.45,longitude:-74.5},{zone_code:"ANZ672",location_name:"Waters from Parramore Island to Cape Charles Light VA 20-60 nm",synopsis_zone:"ANZ820",latitude:37.05,longitude:-74.95},{zone_code:"ANZ673",location_name:"Waters from Cape Charles Light to VA/NC border 20-60 nm",synopsis_zone:"ANZ820",latitude:36.6,longitude:-75.1},{zone_code:"ANZ675",location_name:"Waters from NC/VA border to Currituck Beach Light NC 20-60 nm",synopsis_zone:"ANZ820",latitude:36.1,longitude:-74.95},{zone_code:"ANZ130",location_name:"Albemarle Sound",synopsis_zone:"ANZ100",latitude:36,longitude:-76},{zone_code:"ANZ131",location_name:"Alligator River",synopsis_zone:"ANZ100",latitude:35.85,longitude:-75.9},{zone_code:"ANZ135",location_name:"Pamlico Sound",synopsis_zone:"ANZ100",latitude:35.4,longitude:-75.9},{zone_code:"ANZ136",location_name:"Pamlico and Pungo Rivers",synopsis_zone:"ANZ100",latitude:35.45,longitude:-76.65},{zone_code:"ANZ137",location_name:"Neuse and Bay Rivers",synopsis_zone:"ANZ100",latitude:35.15,longitude:-76.8},{zone_code:"ANZ350",location_name:"Coastal waters from Currituck Beach Light to Oregon Inlet NC out 20 nm",synopsis_zone:"ANZ300",latitude:36,longitude:-75.4},{zone_code:"ANZ352",location_name:"Coastal waters from Oregon Inlet to Cape Hatteras NC out 20 nm",synopsis_zone:"ANZ300",latitude:35.65,longitude:-75.2},{zone_code:"ANZ354",location_name:"Coastal waters from Cape Hatteras to Ocracoke Inlet NC out 20 nm",synopsis_zone:"ANZ300",latitude:35.4,longitude:-75.3},{zone_code:"ANZ156",location_name:"Coastal waters from Ocracoke Inlet to Cape Lookout NC out 20 nm",synopsis_zone:"ANZ100",latitude:35,longitude:-75.8},{zone_code:"ANZ158",location_name:"Coastal waters from Cape Lookout to Surf City NC out 20 nm",synopsis_zone:"ANZ100",latitude:34.6,longitude:-76.6},{zone_code:"AMZ158",location_name:"Coastal waters from Surf City to Cape Fear NC out 20 nm",synopsis_zone:"AMZ100",latitude:34.2,longitude:-77.6},{zone_code:"AMZ231",location_name:"Croatan and Roanoke Sounds",synopsis_zone:"AMZ100",latitude:35.65,longitude:-75.6},{zone_code:"AMZ250",location_name:"Coastal waters from Surf City NC to Cape Fear NC out 20 nm",synopsis_zone:"AMZ200",latitude:34.1,longitude:-77.7},{zone_code:"AMZ252",location_name:"Coastal waters from Cape Fear NC to Little River Inlet SC out 20 nm",synopsis_zone:"AMZ200",latitude:33.9,longitude:-78.2},{zone_code:"AMZ254",location_name:"Coastal waters from Little River Inlet to Murrells Inlet SC out 20 nm",synopsis_zone:"AMZ200",latitude:33.65,longitude:-78.6},{zone_code:"AMZ256",location_name:"Coastal waters from Murrells Inlet to South Santee River SC out 20 nm",synopsis_zone:"AMZ200",latitude:33.3,longitude:-79.1},{zone_code:"AMZ270",location_name:"Waters from Surf City NC to Cape Fear NC 20-60 nm",synopsis_zone:"AMZ200",latitude:33.85,longitude:-77},{zone_code:"AMZ272",location_name:"Waters from Cape Fear NC to Little River Inlet SC 20-60 nm",synopsis_zone:"AMZ200",latitude:33.65,longitude:-77.5},{zone_code:"AMZ274",location_name:"Waters from Little River Inlet to Murrells Inlet SC 20-60 nm",synopsis_zone:"AMZ200",latitude:33.4,longitude:-77.9},{zone_code:"AMZ276",location_name:"Waters from Murrells Inlet to South Santee River SC 20-60 nm",synopsis_zone:"AMZ200",latitude:33.05,longitude:-78.4},{zone_code:"AMZ330",location_name:"Charleston Harbor",synopsis_zone:"AMZ300",latitude:32.78,longitude:-79.93},{zone_code:"AMZ350",location_name:"Coastal waters from South Santee River SC to Edisto Beach SC out 20 nm",synopsis_zone:"AMZ300",latitude:32.95,longitude:-79.65},{zone_code:"AMZ352",location_name:"Coastal waters from Edisto Beach SC to Savannah GA out 20 nm",synopsis_zone:"AMZ300",latitude:32.4,longitude:-80.4},{zone_code:"AMZ354",location_name:"Coastal waters from Savannah GA to Altamaha Sound GA out 20 nm",synopsis_zone:"AMZ300",latitude:31.7,longitude:-80.85},{zone_code:"AMZ370",location_name:"Waters from South Santee River SC to Edisto Beach SC 20-60 nm",synopsis_zone:"AMZ300",latitude:32.7,longitude:-78.95},{zone_code:"AMZ372",location_name:"Waters from Edisto Beach SC to Savannah GA 20-60 nm",synopsis_zone:"AMZ300",latitude:32.15,longitude:-79.7},{zone_code:"AMZ374",location_name:"Waters from Savannah GA to Altamaha Sound GA 20-60 nm",synopsis_zone:"AMZ300",latitude:31.45,longitude:-80.15},{zone_code:"AMZ450",location_name:"Coastal waters from Altamaha Sound to Fernandina Beach FL out 20 nm",synopsis_zone:"AMZ400",latitude:31.2,longitude:-81.2},{zone_code:"AMZ452",location_name:"Coastal waters from Fernandina Beach to St. Augustine FL out 20 nm",synopsis_zone:"AMZ400",latitude:30.4,longitude:-81.3},{zone_code:"AMZ454",location_name:"Coastal waters from St. Augustine to Flagler Beach FL out 20 nm",synopsis_zone:"AMZ400",latitude:29.7,longitude:-81.2},{zone_code:"AMZ470",location_name:"Coastal waters from Flagler Beach to Volusia-Brevard County Line FL out 20 nm",synopsis_zone:"AMZ500",latitude:29.2,longitude:-80.9},{zone_code:"AMZ550",location_name:"Flagler Beach to Volusia-Brevard County Line 0-20 nm",synopsis_zone:"AMZ500",latitude:29.1,longitude:-80.95},{zone_code:"AMZ552",location_name:"Volusia-Brevard County Line to Sebastian Inlet 0-20 nm",synopsis_zone:"AMZ500",latitude:28.1,longitude:-80.45},{zone_code:"AMZ555",location_name:"Sebastian Inlet to Jupiter Inlet 0-20 nm",synopsis_zone:"AMZ500",latitude:27,longitude:-80.2},{zone_code:"AMZ570",location_name:"Flagler Beach to Volusia-Brevard County Line 20-60 nm",synopsis_zone:"AMZ500",latitude:28.85,longitude:-80.2},{zone_code:"AMZ572",location_name:"Volusia-Brevard County Line to Sebastian Inlet 20-60 nm",synopsis_zone:"AMZ500",latitude:27.85,longitude:-79.75},{zone_code:"AMZ575",location_name:"Sebastian Inlet to Jupiter Inlet 20-60 nm",synopsis_zone:"AMZ500",latitude:26.75,longitude:-79.5},{zone_code:"AMZ610",location_name:"Lake Okeechobee",synopsis_zone:"AMZ101",latitude:26.95,longitude:-80.8},{zone_code:"AMZ630",location_name:"Biscayne Bay",synopsis_zone:"AMZ101",latitude:25.65,longitude:-80.2},{zone_code:"AMZ650",location_name:"Coastal waters from Jupiter Inlet to Deerfield Beach FL out 20 nm",synopsis_zone:"AMZ101",latitude:26.55,longitude:-80.08},{zone_code:"AMZ651",location_name:"Coastal waters from Deerfield Beach to Ocean Reef FL out 20 nm",synopsis_zone:"AMZ101",latitude:25.4,longitude:-80.2},{zone_code:"AMZ670",location_name:"Waters from Jupiter Inlet to Deerfield Beach FL 20-60 nm",synopsis_zone:"AMZ101",latitude:26.3,longitude:-79.4},{zone_code:"AMZ671",location_name:"Waters from Deerfield Beach to Ocean Reef FL 20-60 nm",synopsis_zone:"AMZ101",latitude:25.15,longitude:-79.5}];function b(){let[e,t]=(0,a.useState)(""),[n,i]=(0,a.useState)([]),[l]=(0,a.useState)(v),[r,c]=(0,a.useState)(!1),[d,m]=(0,a.useState)(""),[u,h]=(0,a.useState)("");(0,a.useEffect)(()=>{l.length>0&&t(l[0].zone_code)},[l]);let N=(0,a.useCallback)(e=>{let t=[],n=new Date,o=["Tonight","Tuesday","Tuesday Night","Wednesday","Wednesday Night","Thursday"],a=["N winds 10 to 15 kt","NE winds 5 to 10 kt","S winds 15 to 20 kt with gusts up to 25 kt","SW winds 10 to 15 kt becoming W 15 to 20 kt","Variable winds less than 5 kt","NW winds 20 to 25 kt with gusts up to 30 kt"],s=["2 to 3 ft","3 to 5 ft","4 to 6 ft","1 to 2 ft","5 to 7 ft","2 to 4 ft"],i=["Dominant period 6 seconds","E swell around 3 ft at 8 seconds","Mixed swell 2 to 4 ft at 7 seconds","Wind waves 2 to 3 ft","S swell 3 to 5 ft at 9 seconds","Choppy conditions near shore"];for(let e=0;e<Math.min(o.length,6);e++){let l=new Date(n);l.setDate(l.getDate()+Math.floor(e/2)),t.push({date:l.toISOString(),period:o[e],winds:a[e],seas:s[e],waveDetail:i[e],thunderstorms:4===e?"Thunderstorms likely after 2 PM":void 0,visibility:e<3?"Greater than 6 miles":"Reduced in rain showers"})}return t},[]),f=(0,a.useCallback)(async()=>{if(e){c(!0),m(""),h("");try{let a=l.find(t=>t.zone_code===e);if(!a)throw Error("Zone not found");let s=window.location.hostname.includes("netlify.app")||window.location.hostname.includes("netlify.com")||"true"===Z.env.NETLIFY||window.location.origin.includes("netlify");if(console.log("Deployment info:",{hostname:window.location.hostname,isNetlify:s,nodeEnv:"production",netlifyEnv:Z.env.NETLIFY}),s){let s="/api/marine-forecast?mz=".concat(e,"&syn=").concat(a.synopsis_zone);console.log("Fetching real NOAA data from:",s);let l=await fetch(s);if(console.log("API Response:",l.status,l.statusText),!l.ok){let e=await l.text();throw console.error("API Error:",e),Error("API request failed: ".concat(l.status," - ").concat(e))}let r=await l.json();if(console.log("API Data received:",r),r.error)throw Error(r.error);if(console.log("Full API response:",r),console.log("Forecasts array:",r.forecasts),console.log("Forecasts length:",r.forecasts?r.forecasts.length:"undefined"),r.forecasts&&Array.isArray(r.forecasts)){if(r.forecasts.length>0)i(r.forecasts),h(r.synopsis||""),r.warning?m("⚠️ ".concat(r.warning," (").concat(r.forecasts.length," periods shown)")):m("✅ Live NOAA data loaded successfully (".concat(r.forecasts.length," periods)"));else{var t,n,o;i([]),h(r.synopsis||""),m("⚠️ API returned no forecast periods. Debug: HTML length ".concat((null===(t=r.debug)||void 0===t?void 0:t.htmlLength)||"unknown",', Synopsis: "').concat(r.synopsis||"none",'". HTML Preview: "').concat((null===(o=r.debug)||void 0===o?void 0:null===(n=o.htmlPreview)||void 0===n?void 0:n.substring(0,200))||"none",'"'))}}else throw Error("Invalid API response format. Expected forecasts array, got: ".concat(typeof r.forecasts))}else{console.log("Using sample data - not on Netlify");let t="https://forecast.weather.gov/shmrn.php?mz=".concat(e.toLowerCase(),"&syn=").concat(a.synopsis_zone.toLowerCase());m("Demo mode: Would fetch from ".concat(t,". Deploy to Netlify for real data."));let n=N(e);i(n),h("HIGH PRESSURE RIDGE OVER THE WATERS THROUGH TONIGHT. LOW PRESSURE SYSTEM APPROACHING FROM THE WEST TUESDAY INTO WEDNESDAY. SMALL CRAFT ADVISORY CONDITIONS EXPECTED TUESDAY AFTERNOON AND WEDNESDAY.")}}catch(n){console.error("Error fetching forecast:",n);let t=n instanceof Error?n.message:"Unknown error occurred";m("Error: ".concat(t,". Using sample data.")),i(N(e))}finally{c(!1)}}},[e,N,l]);return(0,a.useEffect)(()=>{e&&f()},[e,f]),(0,o.jsx)(y,{children:(0,o.jsxs)("div",{className:"min-h-screen bg-terminal-bg text-terminal-fg font-mono p-4",children:[(0,o.jsxs)("header",{className:"border-b border-terminal-border pb-4 mb-6",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsx)("h1",{className:"text-2xl font-bold text-terminal-accent glitch","data-text":"NOAA MARINE WEATHER",children:"NOAA MARINE WEATHER"}),(0,o.jsxs)("div",{className:"text-terminal-muted text-sm",children:[(0,s.WU)(new Date,"yyyy-MM-dd HH:mm:ss")," UTC"]})]}),(0,o.jsxs)("div",{className:"mt-2 text-terminal-muted",children:[(0,o.jsx)("span",{className:"text-terminal-success",children:">"})," Real-time marine forecasts and conditions"]})]}),(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[(0,o.jsxs)("div",{className:"border border-terminal-border bg-terminal-bg-alt p-4 rounded",children:[(0,o.jsxs)("h2",{className:"text-terminal-accent mb-3 font-semibold",children:[(0,o.jsx)("span",{className:"text-terminal-success",children:"$"})," SELECT LOCATION"]}),(0,o.jsx)(x,{zones:l,selectedZone:e,onZoneChange:t})]}),(0,o.jsxs)("div",{className:"bg-terminal-bg-alt p-4 rounded-lg border border-terminal-fg/20",children:[(0,o.jsxs)("h2",{className:"text-terminal-accent mb-3 font-semibold",children:[(0,o.jsx)("span",{className:"text-terminal-success",children:"$"})," CURRENT FORECAST"]}),(0,o.jsxs)("div",{className:"text-terminal-muted text-sm",children:["Forecast is for today's date: ",(0,s.WU)(new Date,"yyyy-MM-dd")]})]})]}),d&&(0,o.jsx)("div",{className:"border border-terminal-error bg-terminal-bg-alt p-4 rounded mb-6",children:(0,o.jsxs)("div",{className:"text-terminal-warning",children:[(0,o.jsx)("span",{className:"font-bold",children:"INFO:"})," ",d]})}),r&&(0,o.jsx)("div",{className:"border border-terminal-border bg-terminal-bg-alt p-4 rounded mb-6",children:(0,o.jsxs)("div",{className:"text-terminal-accent",children:[(0,o.jsx)("span",{className:"animate-pulse",children:"Loading forecast data..."}),(0,o.jsx)("span",{className:"cursor animate-blink"})]})}),u&&!r&&(0,o.jsxs)("div",{className:"border border-terminal-border bg-terminal-bg-alt p-4 rounded mb-6",children:[(0,o.jsxs)("h2",{className:"text-terminal-accent mb-3 font-semibold",children:[(0,o.jsx)("span",{className:"text-terminal-success",children:"$"})," MARINE SYNOPSIS"]}),(0,o.jsx)("div",{className:"text-terminal-text text-sm leading-relaxed",children:u})]}),n.length>0&&!r&&(()=>{let t=l.find(t=>t.zone_code===e);return t&&t.latitude&&t.longitude?(0,o.jsxs)("div",{className:"border border-terminal-border bg-terminal-bg-alt p-4 rounded",children:[(0,o.jsxs)("h2",{className:"text-terminal-accent mb-4 font-semibold",children:[(0,o.jsx)("span",{className:"text-terminal-success",children:"$"})," MARINE FORECAST"]}),(0,o.jsx)(_,{forecasts:n,selectedZone:e,latitude:t.latitude,longitude:t.longitude,zoneCode:e})]}):(0,o.jsxs)("div",{className:"border border-terminal-border bg-terminal-bg-alt p-4 rounded",children:[(0,o.jsxs)("h2",{className:"text-terminal-accent mb-4 font-semibold",children:[(0,o.jsx)("span",{className:"text-terminal-success",children:"$"})," MARINE FORECAST"]}),(0,o.jsx)(_,{forecasts:n,selectedZone:e,latitude:0,longitude:0,zoneCode:e})]})})(),(0,o.jsxs)("footer",{className:"mt-8 pt-6 border-t border-terminal-fg/20 text-center text-sm text-terminal-muted",children:[(0,o.jsxs)("div",{className:"mb-3",children:["Created by"," ",(0,o.jsx)("a",{href:"https://www.instagram.com/wizumz/",target:"_blank",rel:"noopener noreferrer",className:"text-terminal-accent hover:text-terminal-success underline",children:"Wizumz"})," ","\xa9 2025 -- consider supporting by"," ",(0,o.jsx)("a",{href:"https://buymeacoffee.com/newenglandfishingreport",target:"_blank",rel:"noopener noreferrer",className:"text-terminal-accent hover:text-terminal-success underline",children:"buying me a coffee"})]}),(0,o.jsx)("div",{className:"text-xs text-terminal-muted/80",children:"Seas are reported as significant wave height, which is the average of the highest third of the waves. Individual wave heights may be more than twice the significant wave height."})]})]})})}}},function(e){e.O(0,[664,971,117,744],function(){return e(e.s=4989)}),_N_E=e.O()}]);